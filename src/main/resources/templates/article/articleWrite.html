<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link rel="stylesheet" th:href="@{/css/articleWrite.css}" />
</head>
<body>
<div class="article-write-gird">
    <div class="header1">
        <a th:href="@{/}"><img src="/img/여모.png"> </a>
    </div>

    <div class="header2">

        <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" style="width:90%">
            <button class="btn btn-outline-secondary" type="submit"><img src="/img/검색.png" style="width:50px;"></button>
        </form>

    </div>

    <div class="header3">
        <div sec:authorize="!isAuthenticated()">
            <table  border="1px" class="table table-hover" style="width:280px;">
                <thead>
                <tr>
                    <td>
                        <div th:text="로그인해주세요"></div>
                    </td>

                    <td>

                        <div sec:authorize="!isAuthenticated()">
                            <form method="post"  th:action="@{/oauth2/authorization/google}">
                                <button class="btn btn-outline-secondary" style="float:right;"><a>로그인</a></button>
                            </form>
                        </div>

                    </td>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td>
                        <div class="d-grid gap-2 d-md-block">
                            <a th:href="@{/article/write}">
                                <button type="button" class="btn btn-secondary">여행등록하기</button>
                            </a>
                        </div>
                    </td>
                    <td>
                        <div class="d-grid gap-2 d-md-block">
                            <button type="button" class="btn btn-secondary">등록여행현황</button>
                        </div>
                    </td>

                </tr>
                <tr>
                    <td>
                        <button class="btn"><a class="link-dark rounded ms-1 small" th:href="@{/}">관심여행목록</a></button>
                    </td>
                    <td>
                        <button class="btn"><a class="link-dark rounded ms-1 small" th:href="@{/}">MY신청목록</a></button>
                    </td>

                </tr>
                </tbody>

            </table>
        </div>


        <table sec:authorize="hasRole('USER')" border="1px" class="table table-hover" style="width:280px;">
            <thead>
            <tr>
                <td>
                    <div th:text="${#authentication.name} + '님 '"></div>
                </td>

                <td>

                    <div sec:authorize="isAuthenticated()">
                        <form method="post"  id="logout" name="logout" th:action="@{/logout}">
                            <button class="btn btn-outline-secondary" style="float:right;"><a>로그아웃</a></button>
                        </form>
                    </div>

                </td>
            </tr>
            </thead>

            <tbody>
            <tr>
                <td>
                    <div class="d-grid gap-2 d-md-block">
                        <a th:href="@{/article/write}">
                            <button type="button" class="btn btn-secondary">여행등록하기</button>
                        </a>
                    </div>
                </td>
                <td>
                    <div class="d-grid gap-2 d-md-block">
                        <button type="button" class="btn btn-secondary">등록여행현황</button>
                    </div>
                </td>

            </tr>
            <tr>
                <td>
                    <button class="btn"><a class="link-dark rounded ms-1 small" th:href="@{/}">관심여행목록</a></button>
                </td>
                <td>
                    <button class="btn"><a class="link-dark rounded ms-1 small" th:href="@{/}">MY신청목록</a></button>
                </td>

            </tr>
            </tbody>

        </table>
    </div>



    <div class="menu">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" th:href="@{/}">홈</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" th:href="@{/article/list/new(page=(1))}">신규순</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{/article/list/last(page=(1))}">과거순</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

    </div>
    <!--  메뉴 ///////////////////////////////////////////////////////////////////////////         -->

        <div class="article-write">


            <div class="container">
                <div class="row justify-content-center mt-5 mb-3 g-0">

                    <div class="d-flex flex-row-reverse">

                        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#thumbnailModal">
                            썸네일 등록
                        </button>

                        <div class="modal fade" id="thumbnailModal" tabindex="-1" aria-labelledby="thumbnailModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="thumbnailModalLabel">썸네일 등록</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-footer">

                                        <input type="text" id="thumbnail-url-upload-input" class="form-control">
                                        <button class="btn btn-secondary" id="thumbnail-url-upload-btn">URL 업로드</button>
                                        <label class="btn btn-secondary" for="thumbnail">파일 업로드</label>
                                        <input type="file" id="thumbnail" name="thumbnail" accept="image/*" class="d-none">
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>


                </div>
        <form method="post" th:object="${articleForm}" enctype="multipart/form-data" th:action="@{/article/write}">

            <div class="flex-list">
            <div>
            <label for="formDate" >여행 날짜</label>
            <div class="article-date">
                <input type="date" name="preDate" id="formDate" ><h5>~</h5><input type="date" name="DateTrip" style="margin-right:40px;">
            </div>
                <span th:if="${#fields.hasErrors('preDate')}" class="error-font"  th:errors="*{preDate}"></span>
                <span th:if="${#fields.hasErrors('DateTrip')}" class="error-font"  th:errors="*{DateTrip}"></span>
            </div>

            <div>
                <label for="formPrice">예상 지출</label>
            <div style="margin-right:150px;">
                <input type="text" id="formPrice"  name="costMoney" placeholder="예상지출을 입력하세요"/>원

            </div>
                <span th:if="${#fields.hasErrors('costMoney')}"class="error-font"   th:errors="*{costMoney}"></span>
            </div>


            <div>
                <label for="formMember">모집 인원</label>
            <div>
                <input type="number" id="formMember" name="countHuman"/>명
            </div>
                <span th:if="${#fields.hasErrors('countHuman')}" class="error-font"  th:errors="*{countHuman}"></span>
            </div>

            </div>


            <div class="article-title">
            <select class="form-select" aria-label="Default select example" style="width:20%; height:37px;margin-right:15px">
                <option selected>국내/해외를 선택하세요</option>
                <option value="1">국내여행</option>
                <option value="2">해외여행</option>
            </select>
            <div class="mb-3" style="width:80%;" >
                <label for="exampleFormControlInput1" class="form-label"></label>
                <input type="text" class="form-control"  id="exampleFormControlInput1" name="title" placeholder="제목을 입력해주세요">
            </div>
                <span th:if="${#fields.hasErrors('title')}" class="error-font"  th:errors="*{title}"></span>
            </div>

            <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label">내용</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" name="content" rows="10"></textarea>
            </div>
            <span th:if="${#fields.hasErrors('content')}" class="error-font"  th:errors="*{content}"></span>
            <div class="write-button">
            <button type="reset" class="btn btn-secondary" style="margin-right:5px;">취소</button>
            <button class="btn btn-primary" type="submit">등록</button>
            </div>
        </form>
        </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>